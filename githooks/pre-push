#!/usr/bin/env bash
set -euo pipefail

echo "üöÄ Running pre-push checks..."

# Run full test suite
echo "‚û°Ô∏è go test ./..."
go test ./...

# Lint (golangci-lint recommended)
if command -v golangci-lint >/dev/null 2>&1; then
  echo "‚û°Ô∏è golangci-lint"
  golangci-lint run ./...
else
  echo "‚ö†Ô∏è golangci-lint not installed (skipping). Install: https://golangci-lint.run/usage/install/"
fi

# Build check
echo "‚û°Ô∏è go build"
go build ./...

echo "‚úÖ Pre-push checks passed"
